(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87],{760:(e,t,s)=>{"use strict";s.d(t,{N:()=>b});var a=s(5155),r=s(2115),n=s(869),l=s(2885),i=s(7494),o=s(845),d=s(7351),c=s(1508);class m extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,d.s)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u(e){let{children:t,isPresent:s,anchorX:n}=e,l=(0,r.useId)(),i=(0,r.useRef)(null),o=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,r.useContext)(c.Q);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:r,right:c}=o.current;if(s||!i.current||!e||!t)return;i.current.dataset.motionPopId=l;let m=document.createElement("style");return d&&(m.nonce=d),document.head.appendChild(m),m.sheet&&m.sheet.insertRule('\n          [data-motion-pop-id="'.concat(l,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===n?"left: ".concat(r):"right: ".concat(c),"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[s]),(0,a.jsx)(m,{isPresent:s,childRef:i,sizeRef:o,children:r.cloneElement(t,{ref:i})})}let h=e=>{let{children:t,initial:s,isPresent:n,onExitComplete:i,custom:d,presenceAffectsLayout:c,mode:m,anchorX:h}=e,p=(0,l.M)(x),f=(0,r.useId)(),g=!0,b=(0,r.useMemo)(()=>(g=!1,{id:f,initial:s,isPresent:n,custom:d,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;i&&i()},register:e=>(p.set(e,!1),()=>p.delete(e))}),[n,p,i]);return c&&g&&(b={...b}),(0,r.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[n]),r.useEffect(()=>{n||p.size||!i||i()},[n]),"popLayout"===m&&(t=(0,a.jsx)(u,{isPresent:n,anchorX:h,children:t})),(0,a.jsx)(o.t.Provider,{value:b,children:t})};function x(){return new Map}var p=s(2082);let f=e=>e.key||"";function g(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let b=e=>{let{children:t,custom:s,initial:o=!0,onExitComplete:d,presenceAffectsLayout:c=!0,mode:m="sync",propagate:u=!1,anchorX:x="left"}=e,[b,v]=(0,p.xQ)(u),y=(0,r.useMemo)(()=>g(t),[t]),j=u&&!b?[]:y.map(f),N=(0,r.useRef)(!0),w=(0,r.useRef)(y),k=(0,l.M)(()=>new Map),[C,T]=(0,r.useState)(y),[S,A]=(0,r.useState)(y);(0,i.E)(()=>{N.current=!1,w.current=y;for(let e=0;e<S.length;e++){let t=f(S[e]);j.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[S,j.length,j.join("-")]);let D=[];if(y!==C){let e=[...y];for(let t=0;t<S.length;t++){let s=S[t],a=f(s);j.includes(a)||(e.splice(t,0,s),D.push(s))}return"wait"===m&&D.length&&(e=D),A(g(e)),T(y),null}let{forceRender:E}=(0,r.useContext)(n.L);return(0,a.jsx)(a.Fragment,{children:S.map(e=>{let t=f(e),r=(!u||!!b)&&(y===S||j.includes(t));return(0,a.jsx)(h,{isPresent:r,initial:(!N.current||!!o)&&void 0,custom:s,presenceAffectsLayout:c,mode:m,onExitComplete:r?void 0:()=>{if(!k.has(t))return;k.set(t,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(null==E||E(),A(w.current),u&&(null==v||v()),d&&d())},anchorX:x,children:e},t)})})}},1154:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1243:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1666:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(5155),r=s(2355),n=s(3052),l=s(6408);let i=e=>{let{currentPage:t,totalPages:s,onPageChange:i}=e;if(s<=1)return null;let o=e=>{e>=1&&e<=s&&e!==t&&i(e)};return(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 sm:px-6 border-t border-[hsl(var(--border))]",children:[(0,a.jsxs)("div",{className:"flex flex-1 justify-between sm:hidden",children:[(0,a.jsx)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(t-1),disabled:1===t,className:"relative inline-flex items-center rounded-md px-4 py-2 text-sm font-medium transition-colors duration-200 ".concat(1===t?"bg-[hsl(var(--secondary))] text-[hsl(var(--muted-foreground))] cursor-not-allowed":"bg-[hsl(var(--card))] text-[hsl(var(--foreground))] hover:bg-[hsl(var(--secondary))] border border-[hsl(var(--border))]"),"aria-label":"Previous page",children:"Anterior"}),(0,a.jsxs)("span",{className:"text-sm text-[hsl(var(--foreground))]",children:["P\xe1gina ",t," de ",s]}),(0,a.jsx)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(t+1),disabled:t===s,className:"relative ml-3 inline-flex items-center rounded-md px-4 py-2 text-sm font-medium transition-colors duration-200 ".concat(t===s?"bg-[hsl(var(--secondary))] text-[hsl(var(--muted-foreground))] cursor-not-allowed":"bg-[hsl(var(--card))] text-[hsl(var(--foreground))] hover:bg-[hsl(var(--secondary))] border border-[hsl(var(--border))]"),"aria-label":"Next page",children:"Siguiente"})]}),(0,a.jsxs)("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"text-sm text-[hsl(var(--foreground))]",children:["Mostrando p\xe1gina ",(0,a.jsx)("span",{className:"font-medium",children:t})," de"," ",(0,a.jsx)("span",{className:"font-medium",children:s})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[(0,a.jsx)(l.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(t-1),disabled:1===t,className:"relative inline-flex items-center rounded-l-md px-2 py-2 transition-colors duration-200 ".concat(1===t?"cursor-not-allowed bg-[hsl(var(--secondary))] text-[hsl(var(--muted-foreground))]":"text-[hsl(var(--foreground))] hover:bg-[hsl(var(--secondary))] border border-[hsl(var(--border))]"),"aria-label":"Previous page",children:(0,a.jsx)(r.A,{className:"h-5 w-5","aria-hidden":"true"})}),(()=>{let e=[];if(s<=5)for(let t=1;t<=s;t++)e.push(t);else{e.push(1);let a=Math.max(2,t-1),r=Math.min(s-1,t+1);t<=2&&(r=4),t>=s-1&&(a=s-3),a>2&&e.push(-1);for(let t=a;t<=r;t++)e.push(t);r<s-1&&e.push(-2),e.push(s)}return e})().map((e,s)=>e<0?(0,a.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-[hsl(var(--foreground))] border border-[hsl(var(--border))]",children:"..."},"ellipsis-".concat(s)):(0,a.jsx)(l.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(e),className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold transition-colors duration-200 ".concat(e===t?"bg-red-400 text-white border border-red-400 focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-400":"text-[hsl(var(--foreground))] border border-[hsl(var(--border))] hover:bg-[hsl(var(--secondary))] focus:z-20 focus:outline-offset-0"),"aria-current":e===t?"page":void 0,children:e},e)),(0,a.jsx)(l.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>o(t+1),disabled:t===s,className:"relative inline-flex items-center rounded-r-md px-2 py-2 transition-colors duration-200 ".concat(t===s?"cursor-not-allowed bg-[hsl(var(--secondary))] text-[hsl(var(--muted-foreground))]":"text-[hsl(var(--foreground))] hover:bg-[hsl(var(--secondary))] border border-[hsl(var(--border))]"),"aria-label":"Next page",children:(0,a.jsx)(n.A,{className:"h-5 w-5","aria-hidden":"true"})})]})})]})]})}},2088:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(5155),r=s(760),n=s(6408),l=s(4416),i=s(1243),o=s(1154);let d=e=>{let{isOpen:t,onClose:s,onConfirm:d,title:c,message:m,confirmText:u="Confirmar",cancelText:h="Cancelar",type:x="danger",isLoading:p=!1}=e,f=(()=>{switch(x){case"danger":default:return{icon:"text-red-500",confirmButton:"bg-red-500 hover:bg-red-600 focus:ring-red-500",iconBg:"bg-red-100 dark:bg-red-900/20"};case"warning":return{icon:"text-amber-500",confirmButton:"bg-amber-500 hover:bg-amber-600 focus:ring-amber-500",iconBg:"bg-amber-100 dark:bg-amber-900/20"};case"info":return{icon:"text-blue-500",confirmButton:"bg-blue-500 hover:bg-blue-600 focus:ring-blue-500",iconBg:"bg-blue-100 dark:bg-blue-900/20"}}})();return(0,a.jsx)(r.N,{children:t&&(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[(0,a.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:p?void 0:s}),(0,a.jsxs)(n.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:"relative transform overflow-hidden rounded-lg bg-[hsl(var(--card))] px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[(0,a.jsx)("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:!p&&(0,a.jsxs)("button",{type:"button",className:"rounded-md bg-[hsl(var(--card))] text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))] focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",onClick:s,children:[(0,a.jsx)("span",{className:"sr-only",children:"Cerrar"}),(0,a.jsx)(l.A,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,a.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,a.jsx)("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ".concat(f.iconBg," sm:mx-0 sm:h-10 sm:w-10"),children:(0,a.jsx)(i.A,{className:"h-6 w-6 ".concat(f.icon),"aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,a.jsx)("h3",{className:"text-base font-semibold leading-6 text-[hsl(var(--foreground))]",children:c}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("p",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:m})})]})]}),(0,a.jsxs)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[(0,a.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm sm:ml-3 sm:w-auto focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 ".concat(f.confirmButton," ").concat(p?"opacity-50 cursor-not-allowed":""),onClick:d,disabled:p,children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Procesando..."]}):u}),(0,a.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-[hsl(var(--secondary))] px-3 py-2 text-sm font-semibold text-[hsl(var(--secondary-foreground))] shadow-sm ring-1 ring-inset ring-[hsl(var(--border))] hover:bg-[hsl(var(--card-hover))] sm:mt-0 sm:w-auto transition-colors duration-200 ".concat(p?"opacity-50 cursor-not-allowed":""),onClick:s,disabled:p,children:h})]})]})]})})})}},2355:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2525:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2657:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3717:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4245:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(5155),r=s(2115),n=s(5695),l=s(5731),i=s(9032),o=s(4616),d=s(7924),c=s(9397),m=s(2657),u=s(3717),h=s(2525);let x=[{id:1,name:"Mar\xeda Garc\xeda"},{id:2,name:"Juan P\xe9rez"},{id:3,name:"Ana Rodr\xedguez"},{id:4,name:"Carlos Mart\xednez"},{id:5,name:"Laura S\xe1nchez"}],p=["Ortodoncia","Blanqueamiento","Extracci\xf3n","Limpieza Dental","Relleno","Endodoncia","Pr\xf3tesis","Otro"],f=["Programado","En progreso","Completado","Cancelado"],g=e=>{let{treatment:t,onSave:s,onCancel:n}=e,[l,i]=(0,r.useState)({patientId:0,patientName:"",treatmentType:"",startDate:"",endDate:"",status:"Programado",cost:0,sessions:1,completedSessions:0,notes:""});(0,r.useEffect)(()=>{if(t){let e=new Date(t.startDate),s=new Date(t.endDate);i({patientId:t.patientId||0,patientName:t.patientName||"",treatmentType:t.treatmentType||"",startDate:e.toISOString().split("T")[0],endDate:s.toISOString().split("T")[0],status:t.status||"Programado",cost:t.cost||0,sessions:t.sessions||1,completedSessions:t.completedSessions||0,notes:t.notes||""})}},[t]);let o=e=>{let{name:t,value:s}=e.target;if("cost"===t||"sessions"===t||"completedSessions"===t?i({...l,[t]:Number.parseInt(s)||0}):i({...l,[t]:s}),"patientId"===t){let e=x.find(e=>e.id===Number.parseInt(s));e&&i(t=>({...t,patientId:Number.parseInt(s),patientName:e.name}))}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-center",children:(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:t?"Editar Tratamiento":"Nuevo Tratamiento"})}),(0,a.jsx)("div",{className:"bg-white shadow-md rounded-lg p-6",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=new Date(l.startDate),a=new Date(l.endDate);s({patientId:l.patientId,patientName:l.patientName,treatmentType:l.treatmentType,startDate:t.toISOString(),endDate:a.toISOString(),status:l.status,cost:l.cost,sessions:l.sessions,completedSessions:l.completedSessions,notes:l.notes})},className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"patientId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Paciente"}),(0,a.jsxs)("select",{id:"patientId",name:"patientId",required:!0,value:l.patientId,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400",children:[(0,a.jsx)("option",{value:"",children:"Seleccionar paciente"}),x.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"treatmentType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Tratamiento"}),(0,a.jsxs)("select",{id:"treatmentType",name:"treatmentType",required:!0,value:l.treatmentType,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400",children:[(0,a.jsx)("option",{value:"",children:"Seleccionar tipo"}),p.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Inicio"}),(0,a.jsx)("input",{type:"date",id:"startDate",name:"startDate",required:!0,value:l.startDate,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Finalizaci\xf3n"}),(0,a.jsx)("input",{type:"date",id:"endDate",name:"endDate",required:!0,value:l.endDate,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),(0,a.jsx)("select",{id:"status",name:"status",required:!0,value:l.status,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400",children:f.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"cost",className:"block text-sm font-medium text-gray-700 mb-1",children:"Costo ($)"}),(0,a.jsx)("input",{type:"number",id:"cost",name:"cost",required:!0,min:"0",step:"1",value:l.cost,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"sessions",className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xfamero de Sesiones"}),(0,a.jsx)("input",{type:"number",id:"sessions",name:"sessions",required:!0,min:"1",value:l.sessions,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"completedSessions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sesiones Completadas"}),(0,a.jsx)("input",{type:"number",id:"completedSessions",name:"completedSessions",required:!0,min:"0",max:l.sessions,value:l.completedSessions,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),(0,a.jsx)("textarea",{id:"notes",name:"notes",rows:3,value:l.notes,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancelar"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-red-400 text-white rounded-md hover:bg-red-500",children:"Guardar"})]})]})})]})};var b=s(1666),v=s(2088);let y=[{id:1,patientName:"Mar\xeda Garc\xeda",patientId:1,treatmentType:"Ortodoncia",startDate:"2025-03-10T09:00:00",endDate:"2026-03-10T09:00:00",status:"En progreso",cost:2500,sessions:24,completedSessions:3,notes:"Brackets met\xe1licos tradicionales"},{id:2,patientName:"Juan P\xe9rez",patientId:2,treatmentType:"Blanqueamiento",startDate:"2025-04-15T14:30:00",endDate:"2025-05-15T14:30:00",status:"En progreso",cost:350,sessions:4,completedSessions:1,notes:"Tratamiento de blanqueamiento profesional"},{id:3,patientName:"Ana Rodr\xedguez",patientId:3,treatmentType:"Extracci\xf3n",startDate:"2025-04-22T10:00:00",endDate:"2025-04-22T10:00:00",status:"Completado",cost:120,sessions:1,completedSessions:1,notes:"Extracci\xf3n de muela del juicio"},{id:4,patientName:"Carlos Mart\xednez",patientId:4,treatmentType:"Limpieza Dental",startDate:"2025-04-18T11:30:00",endDate:"2025-04-18T11:30:00",status:"Completado",cost:80,sessions:1,completedSessions:1,notes:"Limpieza dental profunda"},{id:5,patientName:"Laura S\xe1nchez",patientId:5,treatmentType:"Relleno",startDate:"2025-04-25T15:00:00",endDate:"2025-04-25T15:00:00",status:"Programado",cost:150,sessions:1,completedSessions:0,notes:"Relleno de composite en molar superior"}];function j(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}let N=()=>{let[e,t]=(0,r.useState)(y),[s,n]=(0,r.useState)(!1),[l,i]=(0,r.useState)(null),[x,p]=(0,r.useState)(""),[f,N]=(0,r.useState)("list"),[w,k]=(0,r.useState)(1),[C]=(0,r.useState)(5),[T,S]=(0,r.useState)(!1),[A,D]=(0,r.useState)(null),[E,P]=(0,r.useState)(!1),I=e=>{i(e),n(!0),N("edit")},M=e=>{i(e),N("view")},z=e=>{D(e),S(!0)},F=()=>{A&&(P(!0),setTimeout(()=>{t(e.filter(e=>e.id!==A.id)),S(!1),D(null),P(!1)},1e3))},q=()=>{E||(S(!1),D(null))},L=(0,r.useMemo)(()=>{let t=j(x);return e.filter(e=>j(e.patientName).includes(t)||j(e.treatmentType).includes(t)||j(e.status).includes(t))},[e,x]),R=e=>new Date(e).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric"}),B=(e,t)=>t>0?Math.round(e/t*100):0;if("view"===f&&l){let e=B(l.completedSessions,l.sessions);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-[hsl(var(--foreground))]",children:"Detalles del Tratamiento"}),(0,a.jsx)("button",{onClick:()=>N("list"),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Volver"})]}),(0,a.jsxs)("div",{className:"bg-[hsl(var(--card))] shadow-md rounded-lg p-6 transition-colors duration-200",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-[hsl(var(--foreground))] mb-2",children:"Informaci\xf3n del Tratamiento"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Paciente:"})," ",l.patientName]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Tipo de Tratamiento:"})," ",l.treatmentType]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Fecha de Inicio:"})," ",R(l.startDate)]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Fecha de Finalizaci\xf3n:"})," ",R(l.endDate)]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Estado:"})," ",(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("Completado"===l.status?"bg-green-100 text-green-800":"En progreso"===l.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:l.status})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-[hsl(var(--foreground))] mb-2",children:"Detalles Adicionales"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Costo:"})," $",l.cost]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Sesiones:"})," ",l.completedSessions," de"," ",l.sessions]}),(0,a.jsx)("p",{children:(0,a.jsx)("span",{className:"font-semibold",children:"Progreso:"})}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 mt-1 mb-4 transition-colors duration-200",children:(0,a.jsx)("div",{className:"bg-red-400 h-2.5 rounded-full",style:{width:"".concat(e,"%")}})}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Notas:"})," ",(0,a.jsx)("span",{className:l.notes?"":"text-[hsl(var(--muted-foreground))] italic",children:l.notes||"No hay notas disponibles."})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,a.jsx)("button",{onClick:()=>I(l),className:"px-4 py-2 bg-amber-400 text-white rounded-md hover:bg-amber-500",children:"Editar"}),(0,a.jsx)("button",{onClick:()=>z(l),className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Eliminar"})]})]}),(0,a.jsx)(v.A,{isOpen:T,onClose:q,onConfirm:F,title:"Eliminar Tratamiento",message:"\xbfEst\xe1 seguro que desea eliminar el tratamiento de ".concat(null==A?void 0:A.treatmentType," para ").concat(null==A?void 0:A.patientName,"? Esta acci\xf3n no se puede deshacer."),confirmText:"Eliminar",cancelText:"Cancelar",type:"danger",isLoading:E})]})}if("edit"===f)return(0,a.jsx)(g,{treatment:l,onSave:s=>{if(l)t(e.map(e=>e.id===l.id?{...e,...s}:e));else{let a={id:e.length>0?Math.max(...e.map(e=>e.id))+1:1,...s};t([...e,a])}n(!1),N("list")},onCancel:()=>{n(!1),N("list")}});let O=w*C,H=L.slice(O-C,O),_=Math.ceil(L.length/C);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-[hsl(var(--foreground))]",children:"Gesti\xf3n de Tratamientos"}),(0,a.jsxs)("button",{onClick:()=>{i(null),n(!0),N("edit")},className:"flex items-center px-4 py-2 bg-red-400 text-white rounded-md hover:bg-red-500",children:[(0,a.jsx)(o.A,{className:"h-5 w-5 mr-1"}),"Nuevo Tratamiento"]})]}),(0,a.jsxs)("div",{className:"bg-[hsl(var(--card))] transition-colors duration-200 shadow-md rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"p-4 border-b border-[hsl(var(--border))]",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(d.A,{className:"h-5 w-5 text-[hsl(var(--muted-foreground))]"})}),(0,a.jsx)("input",{type:"text",placeholder:"Buscar tratamientos...",className:"pl-10 pr-4 py-2 w-full border border-[hsl(var(--border))] bg-[hsl(var(--card))] text-[hsl(var(--foreground))] rounded-md focus:outline-none focus:ring-2 focus:ring-red-400 transition-colors duration-200",value:x,onChange:e=>p(e.target.value)})]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-[hsl(var(--border))]",children:[(0,a.jsx)("thead",{className:"bg-[hsl(var(--secondary))]",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Paciente"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Tratamiento"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Inicio"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Estado"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Progreso"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Acciones"})]})}),(0,a.jsx)("tbody",{className:"bg-[hsl(var(--card))] divide-y divide-[hsl(var(--border))] transition-colors duration-200",children:H.map(e=>{let t=B(e.completedSessions,e.sessions);return(0,a.jsxs)("tr",{className:"hover:bg-[hsl(var(--card-hover))] transition-colors duration-200",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-[hsl(var(--foreground))]",children:e.patientName})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 text-[hsl(var(--muted-foreground))] mr-2"}),(0,a.jsx)("span",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:e.treatmentType})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:R(e.startDate)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("Completado"===e.status?"bg-green-100 text-green-800":"En progreso"===e.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 mr-2 transition-colors duration-200",children:(0,a.jsx)("div",{className:"bg-red-400 h-2.5 rounded-full",style:{width:"".concat(t,"%")}})}),(0,a.jsxs)("span",{className:"text-xs text-[hsl(var(--muted-foreground))]",children:[t,"%"]})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,a.jsx)("button",{onClick:()=>M(e),className:"text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))] mr-3 transition-colors duration-200",title:"Ver detalles",children:(0,a.jsx)(m.A,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>I(e),className:"text-amber-500 hover:text-amber-600 mr-3",title:"Editar",children:(0,a.jsx)(u.A,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>z(e),className:"text-red-500 hover:text-red-600",title:"Eliminar",children:(0,a.jsx)(h.A,{className:"h-5 w-5"})})]})]},e.id)})})]})}),0===L.length&&(0,a.jsx)("div",{className:"text-center py-4",children:(0,a.jsx)("p",{className:"text-[hsl(var(--muted-foreground))]",children:"No se encontraron tratamientos"})}),L.length>0&&(0,a.jsx)(b.A,{currentPage:w,totalPages:_,onPageChange:e=>{k(e)}})]}),(0,a.jsx)(v.A,{isOpen:T,onClose:q,onConfirm:F,title:"Eliminar Tratamiento",message:"\xbfEst\xe1 seguro que desea eliminar el tratamiento de ".concat(null==A?void 0:A.treatmentType," para ").concat(null==A?void 0:A.patientName,"? Esta acci\xf3n no se puede deshacer."),confirmText:"Eliminar",cancelText:"Cancelar",type:"danger",isLoading:E})]})};function w(){let e=(0,n.useRouter)(),{isAuthenticated:t}=(0,l.A)(),[s,o]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{o(!0),s&&!t&&e.push("/")},[t,e,s]),s)?s&&!t?null:(0,a.jsx)(i.A,{children:(0,a.jsx)(N,{})}):(0,a.jsx)("div",{className:"h-screen flex items-center justify-center bg-gray-100",children:(0,a.jsx)("p",{className:"text-gray-500",children:"Cargando..."})})}},4616:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7354:(e,t,s)=>{Promise.resolve().then(s.bind(s,4245))},7924:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9397:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[766,725,32,441,684,358],()=>t(7354)),_N_E=e.O()}]);