(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[324],{760:(e,t,a)=>{"use strict";a.d(t,{N:()=>v});var r=a(5155),s=a(2115),n=a(869),i=a(2885),o=a(7494),d=a(845),l=a(7351),c=a(1508);class m extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,a=(0,l.s)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=a-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u(e){let{children:t,isPresent:a,anchorX:n}=e,i=(0,s.useId)(),o=(0,s.useRef)(null),d=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,s.useContext)(c.Q);return(0,s.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:s,right:c}=d.current;if(a||!o.current||!e||!t)return;o.current.dataset.motionPopId=i;let m=document.createElement("style");return l&&(m.nonce=l),document.head.appendChild(m),m.sheet&&m.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===n?"left: ".concat(s):"right: ".concat(c),"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[a]),(0,r.jsx)(m,{isPresent:a,childRef:o,sizeRef:d,children:s.cloneElement(t,{ref:o})})}let h=e=>{let{children:t,initial:a,isPresent:n,onExitComplete:o,custom:l,presenceAffectsLayout:c,mode:m,anchorX:h}=e,p=(0,i.M)(x),f=(0,s.useId)(),g=!0,v=(0,s.useMemo)(()=>(g=!1,{id:f,initial:a,isPresent:n,custom:l,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;o&&o()},register:e=>(p.set(e,!1),()=>p.delete(e))}),[n,p,o]);return c&&g&&(v={...v}),(0,s.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[n]),s.useEffect(()=>{n||p.size||!o||o()},[n]),"popLayout"===m&&(t=(0,r.jsx)(u,{isPresent:n,anchorX:h,children:t})),(0,r.jsx)(d.t.Provider,{value:v,children:t})};function x(){return new Map}var p=a(2082);let f=e=>e.key||"";function g(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let v=e=>{let{children:t,custom:a,initial:d=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:m="sync",propagate:u=!1,anchorX:x="left"}=e,[v,b]=(0,p.xQ)(u),y=(0,s.useMemo)(()=>g(t),[t]),j=u&&!v?[]:y.map(f),N=(0,s.useRef)(!0),w=(0,s.useRef)(y),T=(0,i.M)(()=>new Map),[C,k]=(0,s.useState)(y),[A,E]=(0,s.useState)(y);(0,o.E)(()=>{N.current=!1,w.current=y;for(let e=0;e<A.length;e++){let t=f(A[e]);j.includes(t)?T.delete(t):!0!==T.get(t)&&T.set(t,!1)}},[A,j.length,j.join("-")]);let P=[];if(y!==C){let e=[...y];for(let t=0;t<A.length;t++){let a=A[t],r=f(a);j.includes(r)||(e.splice(t,0,a),P.push(a))}return"wait"===m&&P.length&&(e=P),E(g(e)),k(y),null}let{forceRender:I}=(0,s.useContext)(n.L);return(0,r.jsx)(r.Fragment,{children:A.map(e=>{let t=f(e),s=(!u||!!v)&&(y===A||j.includes(t));return(0,r.jsx)(h,{isPresent:s,initial:(!N.current||!!d)&&void 0,custom:a,presenceAffectsLayout:c,mode:m,onExitComplete:s?void 0:()=>{if(!T.has(t))return;T.set(t,!0);let e=!0;T.forEach(t=>{t||(e=!1)}),e&&(null==I||I(),E(w.current),u&&(null==b||b()),l&&l())},anchorX:x,children:e},t)})})}},1154:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1243:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1666:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(5155),s=a(2355),n=a(3052),i=a(6408);let o=e=>{let{currentPage:t,totalPages:a,onPageChange:o}=e;if(a<=1)return null;let d=e=>{e>=1&&e<=a&&e!==t&&o(e)};return(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 sm:px-6 border-t border-[hsl(var(--border))]",children:[(0,r.jsxs)("div",{className:"flex flex-1 justify-between sm:hidden",children:[(0,r.jsx)(i.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(t-1),disabled:1===t,className:"relative inline-flex items-center rounded-md px-4 py-2 text-sm font-medium transition-colors duration-200 ".concat(1===t?"bg-[hsl(var(--secondary))] text-[hsl(var(--muted-foreground))] cursor-not-allowed":"bg-[hsl(var(--card))] text-[hsl(var(--foreground))] hover:bg-[hsl(var(--secondary))] border border-[hsl(var(--border))]"),"aria-label":"Previous page",children:"Anterior"}),(0,r.jsxs)("span",{className:"text-sm text-[hsl(var(--foreground))]",children:["P\xe1gina ",t," de ",a]}),(0,r.jsx)(i.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(t+1),disabled:t===a,className:"relative ml-3 inline-flex items-center rounded-md px-4 py-2 text-sm font-medium transition-colors duration-200 ".concat(t===a?"bg-[hsl(var(--secondary))] text-[hsl(var(--muted-foreground))] cursor-not-allowed":"bg-[hsl(var(--card))] text-[hsl(var(--foreground))] hover:bg-[hsl(var(--secondary))] border border-[hsl(var(--border))]"),"aria-label":"Next page",children:"Siguiente"})]}),(0,r.jsxs)("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("p",{className:"text-sm text-[hsl(var(--foreground))]",children:["Mostrando p\xe1gina ",(0,r.jsx)("span",{className:"font-medium",children:t})," de"," ",(0,r.jsx)("span",{className:"font-medium",children:a})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[(0,r.jsx)(i.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>d(t-1),disabled:1===t,className:"relative inline-flex items-center rounded-l-md px-2 py-2 transition-colors duration-200 ".concat(1===t?"cursor-not-allowed bg-[hsl(var(--secondary))] text-[hsl(var(--muted-foreground))]":"text-[hsl(var(--foreground))] hover:bg-[hsl(var(--secondary))] border border-[hsl(var(--border))]"),"aria-label":"Previous page",children:(0,r.jsx)(s.A,{className:"h-5 w-5","aria-hidden":"true"})}),(()=>{let e=[];if(a<=5)for(let t=1;t<=a;t++)e.push(t);else{e.push(1);let r=Math.max(2,t-1),s=Math.min(a-1,t+1);t<=2&&(s=4),t>=a-1&&(r=a-3),r>2&&e.push(-1);for(let t=r;t<=s;t++)e.push(t);s<a-1&&e.push(-2),e.push(a)}return e})().map((e,a)=>e<0?(0,r.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-[hsl(var(--foreground))] border border-[hsl(var(--border))]",children:"..."},"ellipsis-".concat(a)):(0,r.jsx)(i.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>d(e),className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold transition-colors duration-200 ".concat(e===t?"bg-red-400 text-white border border-red-400 focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-red-400":"text-[hsl(var(--foreground))] border border-[hsl(var(--border))] hover:bg-[hsl(var(--secondary))] focus:z-20 focus:outline-offset-0"),"aria-current":e===t?"page":void 0,children:e},e)),(0,r.jsx)(i.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>d(t+1),disabled:t===a,className:"relative inline-flex items-center rounded-r-md px-2 py-2 transition-colors duration-200 ".concat(t===a?"cursor-not-allowed bg-[hsl(var(--secondary))] text-[hsl(var(--muted-foreground))]":"text-[hsl(var(--foreground))] hover:bg-[hsl(var(--secondary))] border border-[hsl(var(--border))]"),"aria-label":"Next page",children:(0,r.jsx)(n.A,{className:"h-5 w-5","aria-hidden":"true"})})]})})]})]})}},2088:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(5155),s=a(760),n=a(6408),i=a(4416),o=a(1243),d=a(1154);let l=e=>{let{isOpen:t,onClose:a,onConfirm:l,title:c,message:m,confirmText:u="Confirmar",cancelText:h="Cancelar",type:x="danger",isLoading:p=!1}=e,f=(()=>{switch(x){case"danger":default:return{icon:"text-red-500",confirmButton:"bg-red-500 hover:bg-red-600 focus:ring-red-500",iconBg:"bg-red-100 dark:bg-red-900/20"};case"warning":return{icon:"text-amber-500",confirmButton:"bg-amber-500 hover:bg-amber-600 focus:ring-amber-500",iconBg:"bg-amber-100 dark:bg-amber-900/20"};case"info":return{icon:"text-blue-500",confirmButton:"bg-blue-500 hover:bg-blue-600 focus:ring-blue-500",iconBg:"bg-blue-100 dark:bg-blue-900/20"}}})();return(0,r.jsx)(s.N,{children:t&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:[(0,r.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:p?void 0:a}),(0,r.jsxs)(n.P.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:"relative transform overflow-hidden rounded-lg bg-[hsl(var(--card))] px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:[(0,r.jsx)("div",{className:"absolute right-0 top-0 hidden pr-4 pt-4 sm:block",children:!p&&(0,r.jsxs)("button",{type:"button",className:"rounded-md bg-[hsl(var(--card))] text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))] focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",onClick:a,children:[(0,r.jsx)("span",{className:"sr-only",children:"Cerrar"}),(0,r.jsx)(i.A,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,r.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,r.jsx)("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full ".concat(f.iconBg," sm:mx-0 sm:h-10 sm:w-10"),children:(0,r.jsx)(o.A,{className:"h-6 w-6 ".concat(f.icon),"aria-hidden":"true"})}),(0,r.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,r.jsx)("h3",{className:"text-base font-semibold leading-6 text-[hsl(var(--foreground))]",children:c}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("p",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:m})})]})]}),(0,r.jsxs)("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[(0,r.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm sm:ml-3 sm:w-auto focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 ".concat(f.confirmButton," ").concat(p?"opacity-50 cursor-not-allowed":""),onClick:l,disabled:p,children:p?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Procesando..."]}):u}),(0,r.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-[hsl(var(--secondary))] px-3 py-2 text-sm font-semibold text-[hsl(var(--secondary-foreground))] shadow-sm ring-1 ring-inset ring-[hsl(var(--border))] hover:bg-[hsl(var(--card-hover))] sm:mt-0 sm:w-auto transition-colors duration-200 ".concat(p?"opacity-50 cursor-not-allowed":""),onClick:a,disabled:p,children:h})]})]})]})})})}},2355:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2525:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2601:(e,t,a)=>{Promise.resolve().then(a.bind(a,4726))},2657:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3717:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4616:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4726:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var r=a(5155),s=a(2115),n=a(5695),i=a(5731),o=a(9032),d=a(4616),l=a(7924),c=a(7434),m=a(2657),u=a(3717),h=a(2525);let x=[{id:1,name:"Mar\xeda Garc\xeda"},{id:2,name:"Juan P\xe9rez"},{id:3,name:"Ana Rodr\xedguez"},{id:4,name:"Carlos Mart\xednez"},{id:5,name:"Laura S\xe1nchez"}],p=["Historia Cl\xednica","Tratamiento","Radiograf\xeda","Revisi\xf3n","Consulta","Otro"],f=e=>{let{record:t,onSave:a,onCancel:n}=e,[i,o]=(0,s.useState)({patientId:0,patientName:"",recordType:"",date:"",diagnosis:"",treatment:"",notes:""});(0,s.useEffect)(()=>{if(t){let e=new Date(t.date).toISOString().split("T")[0];o({patientId:t.patientId||0,patientName:t.patientName||"",recordType:t.recordType||"",date:e,diagnosis:t.diagnosis||"",treatment:t.treatment||"",notes:t.notes||""})}},[t]);let d=e=>{let{name:t,value:a}=e.target;if(o({...i,[t]:a}),"patientId"===t){let e=x.find(e=>e.id===Number.parseInt(a));e&&o(t=>({...t,patientId:Number.parseInt(a),patientName:e.name}))}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:t?"Editar Expediente":"Nuevo Expediente"})}),(0,r.jsx)("div",{className:"bg-white shadow-md rounded-lg p-6",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=new Date(i.date);a({patientId:i.patientId,patientName:i.patientName,recordType:i.recordType,date:t.toISOString(),diagnosis:i.diagnosis,treatment:i.treatment,notes:i.notes})},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"patientId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Paciente"}),(0,r.jsxs)("select",{id:"patientId",name:"patientId",required:!0,value:i.patientId,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400",children:[(0,r.jsx)("option",{value:"",children:"Seleccionar paciente"}),x.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"recordType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Registro"}),(0,r.jsxs)("select",{id:"recordType",name:"recordType",required:!0,value:i.recordType,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400",children:[(0,r.jsx)("option",{value:"",children:"Seleccionar tipo"}),p.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha"}),(0,r.jsx)("input",{type:"date",id:"date",name:"date",required:!0,value:i.date,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"diagnosis",className:"block text-sm font-medium text-gray-700 mb-1",children:"Diagn\xf3stico"}),(0,r.jsx)("input",{type:"text",id:"diagnosis",name:"diagnosis",required:!0,value:i.diagnosis,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{htmlFor:"treatment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tratamiento"}),(0,r.jsx)("textarea",{id:"treatment",name:"treatment",rows:2,required:!0,value:i.treatment,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),(0,r.jsx)("textarea",{id:"notes",name:"notes",rows:3,value:i.notes,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-red-400 text-white rounded-md hover:bg-red-500",children:"Guardar"})]})]})})]})};var g=a(1666),v=a(2088);let b=[{id:1,patientName:"Mar\xeda Garc\xeda",patientId:1,recordType:"Historia Cl\xednica",date:"2025-04-15T10:30:00",diagnosis:"Gingivitis leve",treatment:"Limpieza profunda y enjuague bucal medicado",notes:"Paciente con buena respuesta al tratamiento"},{id:2,patientName:"Juan P\xe9rez",patientId:2,recordType:"Tratamiento",date:"2025-04-20T14:00:00",diagnosis:"Maloclusi\xf3n dental",treatment:"Ortodoncia correctiva",notes:"Inicio de tratamiento con brackets met\xe1licos"},{id:3,patientName:"Ana Rodr\xedguez",patientId:3,recordType:"Radiograf\xeda",date:"2025-04-22T09:15:00",diagnosis:"Impactaci\xf3n de muela del juicio",treatment:"Extracci\xf3n programada",notes:"Radiograf\xeda panor\xe1mica muestra impactaci\xf3n horizontal"},{id:4,patientName:"Carlos Mart\xednez",patientId:4,recordType:"Revisi\xf3n",date:"2025-04-25T11:30:00",diagnosis:"Caries incipiente en molar inferior",treatment:"Aplicaci\xf3n de fl\xfaor y seguimiento",notes:"Recomendaci\xf3n de revisi\xf3n en 3 meses"},{id:5,patientName:"Laura S\xe1nchez",patientId:5,recordType:"Tratamiento",date:"2025-04-28T16:00:00",diagnosis:"Decoloraci\xf3n dental",treatment:"Blanqueamiento profesional",notes:"Primera sesi\xf3n de blanqueamiento completada"},{id:6,patientName:"Roberto G\xf3mez",patientId:6,recordType:"Historia Cl\xednica",date:"2025-05-02T10:00:00",diagnosis:"Periodontitis moderada",treatment:"Tratamiento periodontal y antibi\xf3ticos",notes:"Paciente con antecedentes de tabaquismo"},{id:7,patientName:"Patricia Hern\xe1ndez",patientId:7,recordType:"Radiograf\xeda",date:"2025-05-05T14:30:00",diagnosis:"Reabsorci\xf3n radicular",treatment:"Evaluaci\xf3n endod\xf3ntica",notes:"Radiograf\xeda periapical muestra reabsorci\xf3n en incisivo lateral"},{id:8,patientName:"Miguel D\xedaz",patientId:8,recordType:"Tratamiento",date:"2025-05-08T09:00:00",diagnosis:"Fractura dental",treatment:"Restauraci\xf3n con composite",notes:"Fractura en borde incisal de diente anterior"},{id:9,patientName:"Carmen L\xf3pez",patientId:9,recordType:"Revisi\xf3n",date:"2025-05-10T11:00:00",diagnosis:"Sensibilidad dental",treatment:"Aplicaci\xf3n de barniz de fl\xfaor",notes:"Sensibilidad a est\xedmulos t\xe9rmicos"},{id:10,patientName:"Fernando Torres",patientId:10,recordType:"Historia Cl\xednica",date:"2025-05-12T15:30:00",diagnosis:"Bruxismo",treatment:"F\xe9rula de descarga nocturna",notes:"Paciente reporta dolor mandibular matutino"},{id:11,patientName:"Luc\xeda Ram\xedrez",patientId:11,recordType:"Tratamiento",date:"2025-05-15T10:30:00",diagnosis:"Pulpitis irreversible",treatment:"Tratamiento de conducto",notes:"Dolor severo a est\xedmulos t\xe9rmicos"},{id:12,patientName:"Javier Morales",patientId:12,recordType:"Radiograf\xeda",date:"2025-05-18T14:00:00",diagnosis:"Lesi\xf3n periapical",treatment:"Evaluaci\xf3n para endodoncia",notes:"Radiograf\xeda muestra radiolucidez periapical"}];function y(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}let j=()=>{let[e,t]=(0,s.useState)(b),[a,n]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),[x,p]=(0,s.useState)(""),[j,N]=(0,s.useState)("list"),[w,T]=(0,s.useState)(1),[C]=(0,s.useState)(5),[k,A]=(0,s.useState)(!1),[E,P]=(0,s.useState)(null),[I,S]=(0,s.useState)(!1),M=e=>{o(e),n(!0),N("edit")},R=e=>{o(e),N("view")},z=e=>{P(e),A(!0)},F=()=>{E&&(S(!0),setTimeout(()=>{t(e.filter(e=>e.id!==E.id)),A(!1),P(null),S(!1)},1e3))},L=()=>{I||(A(!1),P(null))},q=(0,s.useMemo)(()=>{let t=y(x);return e.filter(e=>y(e.patientName).includes(t)||y(e.diagnosis).includes(t)||y(e.recordType).includes(t))},[e,x]),D=w*C,H=q.slice(D-C,D),B=Math.ceil(q.length/C),O=e=>new Date(e).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric"});return"view"===j&&i?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-[hsl(var(--foreground))]",children:"Detalles del Expediente"}),(0,r.jsx)("button",{onClick:()=>N("list"),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Volver"})]}),(0,r.jsxs)("div",{className:"bg-[hsl(var(--card))] transition-colors duration-200 shadow-md rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-[hsl(var(--foreground))] mb-2",children:"Informaci\xf3n del Expediente"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Paciente:"})," ",i.patientName]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Tipo de Registro:"})," ",i.recordType]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Fecha:"})," ",O(i.date)]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Diagn\xf3stico:"})," ",i.diagnosis]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-[hsl(var(--foreground))] mb-2",children:"Tratamiento y Notas"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Tratamiento:"})," ",i.treatment]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Notas:"})," ",(0,r.jsx)("span",{className:i.notes?"":"text-[hsl(var(--muted-foreground))] italic",children:i.notes||"No hay notas disponibles."})]})]})]}),(0,r.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,r.jsx)("button",{onClick:()=>M(i),className:"px-4 py-2 bg-amber-400 text-white rounded-md hover:bg-amber-500",children:"Editar"}),(0,r.jsx)("button",{onClick:()=>z(i),className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Eliminar"})]})]}),(0,r.jsx)(v.A,{isOpen:k,onClose:L,onConfirm:F,title:"Eliminar Expediente",message:"\xbfEst\xe1 seguro que desea eliminar el expediente de ".concat(null==E?void 0:E.patientName,"? Esta acci\xf3n no se puede deshacer."),confirmText:"Eliminar",cancelText:"Cancelar",type:"danger",isLoading:I})]}):"edit"===j?(0,r.jsx)(f,{record:i,onSave:a=>{if(i)t(e.map(e=>e.id===i.id?{...e,...a}:e));else{let r={id:e.length>0?Math.max(...e.map(e=>e.id))+1:1,...a};t([...e,r])}n(!1),N("list")},onCancel:()=>{n(!1),N("list")}}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-[hsl(var(--foreground))]",children:"Gesti\xf3n de Expedientes"}),(0,r.jsxs)("button",{onClick:()=>{o(null),n(!0),N("edit")},className:"flex items-center px-4 py-2 bg-red-400 text-white rounded-md hover:bg-red-500",children:[(0,r.jsx)(d.A,{className:"h-5 w-5 mr-1"}),"Nuevo Expediente"]})]}),(0,r.jsxs)("div",{className:"bg-[hsl(var(--card))] transition-colors duration-200 shadow-md rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"p-4 border-b border-[hsl(var(--border))]",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(l.A,{className:"h-5 w-5 text-[hsl(var(--muted-foreground))]"})}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar expedientes...",className:"pl-10 pr-4 py-2 w-full border border-[hsl(var(--border))] bg-[hsl(var(--card))] text-[hsl(var(--foreground))] rounded-md focus:outline-none focus:ring-2 focus:ring-red-400 transition-colors duration-200",value:x,onChange:e=>{p(e.target.value),T(1)}})]})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-[hsl(var(--border))]",children:[(0,r.jsx)("thead",{className:"bg-[hsl(var(--secondary))]",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Paciente"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Tipo"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Fecha"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Diagn\xf3stico"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Acciones"})]})}),(0,r.jsx)("tbody",{className:"bg-[hsl(var(--card))] divide-y divide-[hsl(var(--border))] transition-colors duration-200",children:H.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-[hsl(var(--card-hover))] transition-colors duration-200",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm font-medium text-[hsl(var(--foreground))]",children:e.patientName})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(c.A,{className:"h-4 w-4 text-[hsl(var(--muted-foreground))] mr-2"}),(0,r.jsx)("span",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:e.recordType})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:O(e.date)})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:e.diagnosis})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,r.jsx)("button",{onClick:()=>R(e),className:"text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))] mr-3 transition-colors duration-200",title:"Ver detalles",children:(0,r.jsx)(m.A,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>M(e),className:"text-amber-500 hover:text-amber-600 mr-3",title:"Editar",children:(0,r.jsx)(u.A,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>z(e),className:"text-red-500 hover:text-red-600",title:"Eliminar",children:(0,r.jsx)(h.A,{className:"h-5 w-5"})})]})]},e.id))})]})}),0===q.length?(0,r.jsx)("div",{className:"text-center py-4",children:(0,r.jsx)("p",{className:"text-[hsl(var(--muted-foreground))]",children:"No se encontraron expedientes"})}):q.length>0&&(0,r.jsx)(g.A,{currentPage:w,totalPages:B,onPageChange:e=>{T(e)}})]}),(0,r.jsx)(v.A,{isOpen:k,onClose:L,onConfirm:F,title:"Eliminar Expediente",message:"\xbfEst\xe1 seguro que desea eliminar el expediente de ".concat(null==E?void 0:E.patientName,"? Esta acci\xf3n no se puede deshacer."),confirmText:"Eliminar",cancelText:"Cancelar",type:"danger",isLoading:I})]})};function N(){let e=(0,n.useRouter)(),{isAuthenticated:t}=(0,i.A)(),[a,d]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{d(!0),a&&!t&&e.push("/")},[t,e,a]),a)?a&&!t?null:(0,r.jsx)(o.A,{children:(0,r.jsx)(j,{})}):(0,r.jsx)("div",{className:"h-screen flex items-center justify-center bg-gray-100",children:(0,r.jsx)("p",{className:"text-gray-500",children:"Cargando..."})})}},7924:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[766,725,32,441,684,358],()=>t(2601)),_N_E=e.O()}]);