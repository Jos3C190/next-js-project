exports.id=24,exports.ids=[24],exports.modules={34:(e,t,o)=>{Promise.resolve().then(o.bind(o,468)),Promise.resolve().then(o.bind(o,3549))},468:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});let r=(0,o(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\josec\\\\Documents\\\\Nueva carpeta (5)\\\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\\\next-js-project\\\\components\\\\AosInitializer.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\components\\AosInitializer.tsx","default")},538:(e,t,o)=>{"use strict";function r(){return null}o.d(t,{default:()=>r}),o(3210)},1047:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,6346,23)),Promise.resolve().then(o.t.bind(o,7924,23)),Promise.resolve().then(o.t.bind(o,5656,23)),Promise.resolve().then(o.t.bind(o,99,23)),Promise.resolve().then(o.t.bind(o,8243,23)),Promise.resolve().then(o.t.bind(o,8827,23)),Promise.resolve().then(o.t.bind(o,2763,23)),Promise.resolve().then(o.t.bind(o,7173,23))},1295:(e,t,o)=>{"use strict";o.d(t,{A:()=>c,AuthProvider:()=>d});var r=o(687),n=o(3210),i=o(9556);let s=(0,n.createContext)(null),a="auth_token",l="auth_user",d=({children:e})=>{let[t,o]=(0,n.useState)(!1),[d,c]=(0,n.useState)(null),[u,m]=(0,n.useState)(null),[h,p]=(0,n.useState)(!0),[E,v]=(0,n.useState)(null),[f,g]=(0,n.useState)(!1);(0,n.useEffect)(()=>{g(!0)},[]),(0,n.useEffect)(()=>{f&&(async()=>{try{let e=localStorage.getItem(a),t=localStorage.getItem(l);if(e&&t)try{await i.ZQ.verify(e),m(e),c(JSON.parse(t)),o(!0),console.log("✅ Sesi\xf3n restaurada correctamente")}catch(e){console.error("❌ Token inv\xe1lido:",e),localStorage.removeItem(a),localStorage.removeItem(l),o(!1),c(null),m(null)}else console.log("ℹ️ No hay sesi\xf3n guardada"),o(!1)}catch(e){console.error("❌ Error al cargar la autenticaci\xf3n:",e),o(!1)}finally{p(!1)}})()},[f]);let A=async e=>{v(null);try{p(!0);let t=await i.ZQ.login(e),r={id:t.user._id,nombre:t.user.nombre,apellido:t.user.apellido,correo:t.user.correo,role:t.role,telefono:t.user.telefono,especialidad:t.user.especialidad};return m(t.token),c(r),o(!0),f&&(localStorage.setItem(a,t.token),localStorage.setItem(l,JSON.stringify(r))),console.log("✅ Login exitoso"),!0}catch(e){return console.error("❌ Error de inicio de sesi\xf3n:",e),v("Credenciales incorrectas. Por favor, int\xe9ntelo de nuevo."),!1}finally{p(!1)}},P=async e=>{v(null);try{return p(!0),await i.ZQ.register(e),!0}catch(e){return console.error("❌ Error de registro:",e),v("Error al registrar. Por favor, int\xe9ntelo de nuevo."),!1}finally{p(!1)}};return(0,r.jsx)(s.Provider,{value:{isAuthenticated:t,user:d,token:u,login:A,logout:()=>{o(!1),c(null),m(null),f&&(localStorage.removeItem(a),localStorage.removeItem(l)),console.log("✅ Logout exitoso")},register:P,isLoading:h,error:E,isHydrated:f},children:e})},c=()=>{let e=(0,n.useContext)(s);if(!e)throw Error("useAuth debe ser usado dentro de un AuthProvider");return e}},2704:()=>{},3549:(e,t,o)=>{"use strict";o.d(t,{AuthProvider:()=>n});var r=o(2907);let n=(0,r.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\context\\AuthContext.tsx","AuthProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\context\\AuthContext.tsx","useAuth")},4538:(e,t,o)=>{Promise.resolve().then(o.bind(o,538)),Promise.resolve().then(o.bind(o,1295))},7919:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,6444,23)),Promise.resolve().then(o.t.bind(o,6042,23)),Promise.resolve().then(o.t.bind(o,8170,23)),Promise.resolve().then(o.t.bind(o,9477,23)),Promise.resolve().then(o.t.bind(o,9345,23)),Promise.resolve().then(o.t.bind(o,2089,23)),Promise.resolve().then(o.t.bind(o,6577,23)),Promise.resolve().then(o.t.bind(o,1307,23))},8014:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>d,metadata:()=>l});var r=o(7413),n=o(1421),i=o.n(n),s=o(3549),a=o(468);o(2704);let l={title:"Clinica Dental Dr. Linares",description:"Servicios dentales profesionales"};function d({children:e}){return(0,r.jsx)("html",{lang:"es",children:(0,r.jsx)("body",{className:i().className,children:(0,r.jsxs)(s.AuthProvider,{children:[(0,r.jsx)(a.default,{}),e]})})})}},9556:(e,t,o)=>{"use strict";async function r(e,t={},o){let n=`http://localhost:5000${e}`,i={"Content-Type":"application/json",...t.headers};o&&(i.Authorization=`Bearer ${o}`);let s={...t,headers:i},a=await fetch(n,s);if(!a.ok){let e=`Error ${a.status}: ${a.statusText}`;try{let t=await a.json();t.message?e=t.message:t.error?e=t.error:t.errors&&Array.isArray(t.errors)&&(e=t.errors.join(", "))}catch(e){}if(401===a.status)throw Error("Token inv\xe1lido");throw Error(e)}return a.json()}o.d(t,{Cx:()=>l,ZQ:()=>n,Zi:()=>s,rQ:()=>a,rn:()=>i});let n={login:async e=>r("/api/auth/login",{method:"POST",body:JSON.stringify(e)}),register:async e=>r("/api/auth/register",{method:"POST",body:JSON.stringify(e)}),verify:async e=>r("/api/auth/verify",{method:"GET"},e)},i=e=>({getPatients:(t=1,o=10)=>r(`/pacientes?page=${t}&limit=${o}`,{method:"GET"},e),getPatientById:t=>r(`/pacientes/${t}`,{method:"GET"},e),createPatient:t=>r("/pacientes",{method:"POST",body:JSON.stringify(t)},e),updatePatient:(t,o)=>r(`/pacientes/${t}`,{method:"PUT",body:JSON.stringify(o)},e),deletePatient:t=>r(`/pacientes/${t}`,{method:"DELETE"},e)}),s=e=>({getAppointments:(t=1,o=10)=>r(`/api/citas?page=${t}&limit=${o}`,{method:"GET"},e),getAppointmentById:t=>r(`/api/citas/${t}`,{method:"GET"},e),createAppointment:t=>r("/api/citas",{method:"POST",body:JSON.stringify(t)},e),updateAppointment:(t,o)=>r(`/api/citas/${t}`,{method:"PUT",body:JSON.stringify(o)},e),deleteAppointment:t=>r(`/api/citas/${t}`,{method:"DELETE"},e)}),a=e=>({getDentists:(t=1,o=100)=>r(`/odontologos?page=${t}&limit=${o}`,{method:"GET"},e)}),l=e=>({getMedicalRecords:(t=1,o=10)=>r(`/api/expedientes?page=${t}&limit=${o}`,{method:"GET"},e),getMedicalRecordById:t=>r(`/api/expedientes/${t}`,{method:"GET"},e),createMedicalRecord:t=>r("/api/expedientes",{method:"POST",body:JSON.stringify(t)},e),updateMedicalRecord:(t,o)=>r(`/api/expedientes/${t}`,{method:"PUT",body:JSON.stringify(o)},e),deleteMedicalRecord:t=>r(`/api/expedientes/${t}`,{method:"DELETE"},e),getAllPatients:async()=>{let t=await r("/pacientes?page=1&limit=1",{method:"GET"},e),o=t.pagination.total;return o>1?{data:(await r(`/pacientes?limit=${o}`,{method:"GET"},e)).data}:{data:t.data}}})}};