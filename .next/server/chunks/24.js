exports.id=24,exports.ids=[24],exports.modules={34:(e,t,o)=>{Promise.resolve().then(o.bind(o,468)),Promise.resolve().then(o.bind(o,3549))},468:(e,t,o)=>{"use strict";o.d(t,{default:()=>r});let r=(0,o(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\josec\\\\Documents\\\\Nueva carpeta (5)\\\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\\\next-js-project\\\\components\\\\AosInitializer.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\components\\AosInitializer.tsx","default")},538:(e,t,o)=>{"use strict";function r(){return null}o.d(t,{default:()=>r}),o(3210)},1047:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,6346,23)),Promise.resolve().then(o.t.bind(o,7924,23)),Promise.resolve().then(o.t.bind(o,5656,23)),Promise.resolve().then(o.t.bind(o,99,23)),Promise.resolve().then(o.t.bind(o,8243,23)),Promise.resolve().then(o.t.bind(o,8827,23)),Promise.resolve().then(o.t.bind(o,2763,23)),Promise.resolve().then(o.t.bind(o,7173,23))},2704:()=>{},3549:(e,t,o)=>{"use strict";o.d(t,{AuthProvider:()=>n});var r=o(2907);let n=(0,r.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\context\\AuthContext.tsx","AuthProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\context\\AuthContext.tsx","useAuth")},4538:(e,t,o)=>{Promise.resolve().then(o.bind(o,538)),Promise.resolve().then(o.bind(o,7762))},7762:(e,t,o)=>{"use strict";o.d(t,{AuthProvider:()=>u,A:()=>d});var r=o(687),n=o(3210);async function s(e,t={},o){let r=`http://localhost:5000${e}`,n={"Content-Type":"application/json",...t.headers};o&&(n.Authorization=`Bearer ${o}`);let i={...t,headers:n},l=await fetch(r,i);if(!l.ok){if(401===l.status)throw Error("Token inv\xe1lido");throw Error(`Error ${l.status}: ${l.statusText}`)}return l.json()}let i={login:async e=>s("/api/auth/login",{method:"POST",body:JSON.stringify(e)}),register:async e=>s("/api/auth/register",{method:"POST",body:JSON.stringify(e)}),verify:async e=>s("/api/auth/verify",{method:"GET"},e)},l=(0,n.createContext)(null),a="auth_token",c="auth_user",u=({children:e})=>{let[t,o]=(0,n.useState)(!1),[s,u]=(0,n.useState)(null),[d,h]=(0,n.useState)(null),[m,v]=(0,n.useState)(!0),[f,p]=(0,n.useState)(null),[E,A]=(0,n.useState)(!1);(0,n.useEffect)(()=>{A(!0)},[]),(0,n.useEffect)(()=>{E&&(async()=>{try{let e=localStorage.getItem(a),t=localStorage.getItem(c);if(e&&t)try{await i.verify(e),h(e),u(JSON.parse(t)),o(!0),console.log("✅ Sesi\xf3n restaurada correctamente")}catch(e){console.error("❌ Token inv\xe1lido:",e),localStorage.removeItem(a),localStorage.removeItem(c),o(!1),u(null),h(null)}else console.log("ℹ️ No hay sesi\xf3n guardada"),o(!1)}catch(e){console.error("❌ Error al cargar la autenticaci\xf3n:",e),o(!1)}finally{v(!1)}})()},[E]);let S=async e=>{p(null);try{v(!0);let t=await i.login(e),r={id:t.user._id,nombre:t.user.nombre,apellido:t.user.apellido,correo:t.user.correo,role:t.role,telefono:t.user.telefono,especialidad:t.user.especialidad};return h(t.token),u(r),o(!0),E&&(localStorage.setItem(a,t.token),localStorage.setItem(c,JSON.stringify(r))),console.log("✅ Login exitoso"),!0}catch(e){return console.error("❌ Error de inicio de sesi\xf3n:",e),p("Credenciales incorrectas. Por favor, int\xe9ntelo de nuevo."),!1}finally{v(!1)}},P=async e=>{p(null);try{return v(!0),await i.register(e),!0}catch(e){return console.error("❌ Error de registro:",e),p("Error al registrar. Por favor, int\xe9ntelo de nuevo."),!1}finally{v(!1)}};return(0,r.jsx)(l.Provider,{value:{isAuthenticated:t,user:s,token:d,login:S,logout:()=>{o(!1),u(null),h(null),E&&(localStorage.removeItem(a),localStorage.removeItem(c)),console.log("✅ Logout exitoso")},register:P,isLoading:m,error:f,isHydrated:E},children:e})},d=()=>{let e=(0,n.useContext)(l);if(!e)throw Error("useAuth debe ser usado dentro de un AuthProvider");return e}},7919:(e,t,o)=>{Promise.resolve().then(o.t.bind(o,6444,23)),Promise.resolve().then(o.t.bind(o,6042,23)),Promise.resolve().then(o.t.bind(o,8170,23)),Promise.resolve().then(o.t.bind(o,9477,23)),Promise.resolve().then(o.t.bind(o,9345,23)),Promise.resolve().then(o.t.bind(o,2089,23)),Promise.resolve().then(o.t.bind(o,6577,23)),Promise.resolve().then(o.t.bind(o,1307,23))},8014:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>c,metadata:()=>a});var r=o(7413),n=o(1421),s=o.n(n),i=o(3549),l=o(468);o(2704);let a={title:"Clinica Dental Dr. Linares",description:"Servicios dentales profesionales"};function c({children:e}){return(0,r.jsx)("html",{lang:"es",children:(0,r.jsx)("body",{className:s().className,children:(0,r.jsxs)(i.AuthProvider,{children:[(0,r.jsx)(l.default,{}),e]})})})}}};