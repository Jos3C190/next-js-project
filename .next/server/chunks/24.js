exports.id=24,exports.ids=[24],exports.modules={34:(e,t,r)=>{Promise.resolve().then(r.bind(r,468)),Promise.resolve().then(r.bind(r,3549))},468:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});let o=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\josec\\\\Documents\\\\Nueva carpeta (5)\\\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\\\next-js-project\\\\components\\\\AosInitializer.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\components\\AosInitializer.tsx","default")},538:(e,t,r)=>{"use strict";function o(){return null}r.d(t,{default:()=>o}),r(3210)},1047:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},1295:(e,t,r)=>{"use strict";r.d(t,{A:()=>u,AuthProvider:()=>c});var o=r(687),n=r(3210),s=r(9556);let i=(0,n.createContext)(null),a="auth_token",l="auth_user",c=({children:e})=>{let[t,r]=(0,n.useState)(!1),[c,u]=(0,n.useState)(null),[d,h]=(0,n.useState)(null),[m,v]=(0,n.useState)(!0),[p,f]=(0,n.useState)(null),[E,P]=(0,n.useState)(!1);(0,n.useEffect)(()=>{P(!0)},[]),(0,n.useEffect)(()=>{E&&(async()=>{try{let e=localStorage.getItem(a),t=localStorage.getItem(l);if(e&&t)try{await s.ZQ.verify(e),h(e),u(JSON.parse(t)),r(!0),console.log("✅ Sesi\xf3n restaurada correctamente")}catch(e){console.error("❌ Token inv\xe1lido:",e),localStorage.removeItem(a),localStorage.removeItem(l),r(!1),u(null),h(null)}else console.log("ℹ️ No hay sesi\xf3n guardada"),r(!1)}catch(e){console.error("❌ Error al cargar la autenticaci\xf3n:",e),r(!1)}finally{v(!1)}})()},[E]);let A=async e=>{f(null);try{v(!0);let t=await s.ZQ.login(e),o={id:t.user._id,nombre:t.user.nombre,apellido:t.user.apellido,correo:t.user.correo,role:t.role,telefono:t.user.telefono,especialidad:t.user.especialidad};return h(t.token),u(o),r(!0),E&&(localStorage.setItem(a,t.token),localStorage.setItem(l,JSON.stringify(o))),console.log("✅ Login exitoso"),!0}catch(e){return console.error("❌ Error de inicio de sesi\xf3n:",e),f("Credenciales incorrectas. Por favor, int\xe9ntelo de nuevo."),!1}finally{v(!1)}},g=async e=>{f(null);try{return v(!0),await s.ZQ.register(e),!0}catch(e){return console.error("❌ Error de registro:",e),f("Error al registrar. Por favor, int\xe9ntelo de nuevo."),!1}finally{v(!1)}};return(0,o.jsx)(i.Provider,{value:{isAuthenticated:t,user:c,token:d,login:A,logout:()=>{r(!1),u(null),h(null),E&&(localStorage.removeItem(a),localStorage.removeItem(l)),console.log("✅ Logout exitoso")},register:g,isLoading:m,error:p,isHydrated:E},children:e})},u=()=>{let e=(0,n.useContext)(i);if(!e)throw Error("useAuth debe ser usado dentro de un AuthProvider");return e}},2704:()=>{},3549:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>n});var o=r(2907);let n=(0,o.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\context\\AuthContext.tsx","AuthProvider");(0,o.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\context\\AuthContext.tsx","useAuth")},4538:(e,t,r)=>{Promise.resolve().then(r.bind(r,538)),Promise.resolve().then(r.bind(r,1295))},7919:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>l});var o=r(7413),n=r(1421),s=r.n(n),i=r(3549),a=r(468);r(2704);let l={title:"Clinica Dental Dr. Linares",description:"Servicios dentales profesionales"};function c({children:e}){return(0,o.jsx)("html",{lang:"es",children:(0,o.jsx)("body",{className:s().className,children:(0,o.jsxs)(i.AuthProvider,{children:[(0,o.jsx)(a.default,{}),e]})})})}},9556:(e,t,r)=>{"use strict";async function o(e,t={},r){let n=`http://localhost:5000${e}`,s={"Content-Type":"application/json",...t.headers};r&&(s.Authorization=`Bearer ${r}`);let i={...t,headers:s},a=await fetch(n,i);if(!a.ok){let e=`Error ${a.status}: ${a.statusText}`;try{let t=await a.json();t.message?e=t.message:t.error?e=t.error:t.errors&&Array.isArray(t.errors)&&(e=t.errors.join(", "))}catch(e){}if(401===a.status)throw Error("Token inv\xe1lido");throw Error(e)}return a.json()}r.d(t,{ZQ:()=>n,rn:()=>s});let n={login:async e=>o("/api/auth/login",{method:"POST",body:JSON.stringify(e)}),register:async e=>o("/api/auth/register",{method:"POST",body:JSON.stringify(e)}),verify:async e=>o("/api/auth/verify",{method:"GET"},e)},s=e=>({getPatients:(t=1,r=10)=>o(`/pacientes?page=${t}&limit=${r}`,{method:"GET"},e),getPatientById:t=>o(`/pacientes/${t}`,{method:"GET"},e),createPatient:t=>o("/pacientes",{method:"POST",body:JSON.stringify(t)},e),updatePatient:(t,r)=>o(`/pacientes/${t}`,{method:"PUT",body:JSON.stringify(r)},e),deletePatient:t=>o(`/pacientes/${t}`,{method:"DELETE"},e)})}};