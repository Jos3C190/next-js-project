(()=>{var e={};e.id=324,e.ids=[324],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1010:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var r=a(687),s=a(3210),n=a(6189),i=a(1295),d=a(3570),o=a(6474),l=a(9270),c=a(22),m=a(3861),p=a(3143),u=a(8233);let x=[{id:1,name:"Mar\xeda Garc\xeda"},{id:2,name:"Juan P\xe9rez"},{id:3,name:"Ana Rodr\xedguez"},{id:4,name:"Carlos Mart\xednez"},{id:5,name:"Laura S\xe1nchez"}],h=["Historia Cl\xednica","Tratamiento","Radiograf\xeda","Revisi\xf3n","Consulta","Otro"],g=({record:e,onSave:t,onCancel:a})=>{let[n,i]=(0,s.useState)({patientId:0,patientName:"",recordType:"",date:"",diagnosis:"",treatment:"",notes:""});(0,s.useEffect)(()=>{if(e){let t=new Date(e.date).toISOString().split("T")[0];i({patientId:e.patientId||0,patientName:e.patientName||"",recordType:e.recordType||"",date:t,diagnosis:e.diagnosis||"",treatment:e.treatment||"",notes:e.notes||""})}},[e]);let d=e=>{let{name:t,value:a}=e.target;if(i({...n,[t]:a}),"patientId"===t){let e=x.find(e=>e.id===Number.parseInt(a));e&&i(t=>({...t,patientId:Number.parseInt(a),patientName:e.name}))}};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex justify-between items-center",children:(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:e?"Editar Expediente":"Nuevo Expediente"})}),(0,r.jsx)("div",{className:"bg-white shadow-md rounded-lg p-6",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let a=new Date(n.date);t({patientId:n.patientId,patientName:n.patientName,recordType:n.recordType,date:a.toISOString(),diagnosis:n.diagnosis,treatment:n.treatment,notes:n.notes})},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"patientId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Paciente"}),(0,r.jsxs)("select",{id:"patientId",name:"patientId",required:!0,value:n.patientId,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400",children:[(0,r.jsx)("option",{value:"",children:"Seleccionar paciente"}),x.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"recordType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Registro"}),(0,r.jsxs)("select",{id:"recordType",name:"recordType",required:!0,value:n.recordType,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400",children:[(0,r.jsx)("option",{value:"",children:"Seleccionar tipo"}),h.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha"}),(0,r.jsx)("input",{type:"date",id:"date",name:"date",required:!0,value:n.date,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"diagnosis",className:"block text-sm font-medium text-gray-700 mb-1",children:"Diagn\xf3stico"}),(0,r.jsx)("input",{type:"text",id:"diagnosis",name:"diagnosis",required:!0,value:n.diagnosis,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{htmlFor:"treatment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tratamiento"}),(0,r.jsx)("textarea",{id:"treatment",name:"treatment",rows:2,required:!0,value:n.treatment,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),(0,r.jsx)("textarea",{id:"notes",name:"notes",rows:3,value:n.notes,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,r.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-red-400 text-white rounded-md hover:bg-red-500",children:"Guardar"})]})]})})]})};var f=a(64),v=a(4994);let b=[{id:1,patientName:"Mar\xeda Garc\xeda",patientId:1,recordType:"Historia Cl\xednica",date:"2025-04-15T10:30:00",diagnosis:"Gingivitis leve",treatment:"Limpieza profunda y enjuague bucal medicado",notes:"Paciente con buena respuesta al tratamiento"},{id:2,patientName:"Juan P\xe9rez",patientId:2,recordType:"Tratamiento",date:"2025-04-20T14:00:00",diagnosis:"Maloclusi\xf3n dental",treatment:"Ortodoncia correctiva",notes:"Inicio de tratamiento con brackets met\xe1licos"},{id:3,patientName:"Ana Rodr\xedguez",patientId:3,recordType:"Radiograf\xeda",date:"2025-04-22T09:15:00",diagnosis:"Impactaci\xf3n de muela del juicio",treatment:"Extracci\xf3n programada",notes:"Radiograf\xeda panor\xe1mica muestra impactaci\xf3n horizontal"},{id:4,patientName:"Carlos Mart\xednez",patientId:4,recordType:"Revisi\xf3n",date:"2025-04-25T11:30:00",diagnosis:"Caries incipiente en molar inferior",treatment:"Aplicaci\xf3n de fl\xfaor y seguimiento",notes:"Recomendaci\xf3n de revisi\xf3n en 3 meses"},{id:5,patientName:"Laura S\xe1nchez",patientId:5,recordType:"Tratamiento",date:"2025-04-28T16:00:00",diagnosis:"Decoloraci\xf3n dental",treatment:"Blanqueamiento profesional",notes:"Primera sesi\xf3n de blanqueamiento completada"},{id:6,patientName:"Roberto G\xf3mez",patientId:6,recordType:"Historia Cl\xednica",date:"2025-05-02T10:00:00",diagnosis:"Periodontitis moderada",treatment:"Tratamiento periodontal y antibi\xf3ticos",notes:"Paciente con antecedentes de tabaquismo"},{id:7,patientName:"Patricia Hern\xe1ndez",patientId:7,recordType:"Radiograf\xeda",date:"2025-05-05T14:30:00",diagnosis:"Reabsorci\xf3n radicular",treatment:"Evaluaci\xf3n endod\xf3ntica",notes:"Radiograf\xeda periapical muestra reabsorci\xf3n en incisivo lateral"},{id:8,patientName:"Miguel D\xedaz",patientId:8,recordType:"Tratamiento",date:"2025-05-08T09:00:00",diagnosis:"Fractura dental",treatment:"Restauraci\xf3n con composite",notes:"Fractura en borde incisal de diente anterior"},{id:9,patientName:"Carmen L\xf3pez",patientId:9,recordType:"Revisi\xf3n",date:"2025-05-10T11:00:00",diagnosis:"Sensibilidad dental",treatment:"Aplicaci\xf3n de barniz de fl\xfaor",notes:"Sensibilidad a est\xedmulos t\xe9rmicos"},{id:10,patientName:"Fernando Torres",patientId:10,recordType:"Historia Cl\xednica",date:"2025-05-12T15:30:00",diagnosis:"Bruxismo",treatment:"F\xe9rula de descarga nocturna",notes:"Paciente reporta dolor mandibular matutino"},{id:11,patientName:"Luc\xeda Ram\xedrez",patientId:11,recordType:"Tratamiento",date:"2025-05-15T10:30:00",diagnosis:"Pulpitis irreversible",treatment:"Tratamiento de conducto",notes:"Dolor severo a est\xedmulos t\xe9rmicos"},{id:12,patientName:"Javier Morales",patientId:12,recordType:"Radiograf\xeda",date:"2025-05-18T14:00:00",diagnosis:"Lesi\xf3n periapical",treatment:"Evaluaci\xf3n para endodoncia",notes:"Radiograf\xeda muestra radiolucidez periapical"}];function j(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}let N=()=>{let[e,t]=(0,s.useState)(b),[a,n]=(0,s.useState)(!1),[i,d]=(0,s.useState)(null),[x,h]=(0,s.useState)(""),[N,y]=(0,s.useState)("list"),[E,T]=(0,s.useState)(1),[w]=(0,s.useState)(5),[D,C]=(0,s.useState)(!1),[A,S]=(0,s.useState)(null),[I,O]=(0,s.useState)(!1),R=e=>{d(e),n(!0),y("edit")},L=e=>{d(e),y("view")},P=e=>{S(e),C(!0)},k=()=>{A&&(O(!0),setTimeout(()=>{t(e.filter(e=>e.id!==A.id)),C(!1),S(null),O(!1)},1e3))},G=()=>{I||(C(!1),S(null))},z=(0,s.useMemo)(()=>{let t=j(x);return e.filter(e=>j(e.patientName).includes(t)||j(e.diagnosis).includes(t)||j(e.recordType).includes(t))},[e,x]),F=E*w,M=z.slice(F-w,F),q=Math.ceil(z.length/w),_=e=>new Date(e).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric"});return"view"===N&&i?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-[hsl(var(--foreground))]",children:"Detalles del Expediente"}),(0,r.jsx)("button",{onClick:()=>y("list"),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Volver"})]}),(0,r.jsxs)("div",{className:"bg-[hsl(var(--card))] transition-colors duration-200 shadow-md rounded-lg p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-[hsl(var(--foreground))] mb-2",children:"Informaci\xf3n del Expediente"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Paciente:"})," ",i.patientName]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Tipo de Registro:"})," ",i.recordType]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Fecha:"})," ",_(i.date)]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Diagn\xf3stico:"})," ",i.diagnosis]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-[hsl(var(--foreground))] mb-2",children:"Tratamiento y Notas"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Tratamiento:"})," ",i.treatment]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Notas:"})," ",(0,r.jsx)("span",{className:i.notes?"":"text-[hsl(var(--muted-foreground))] italic",children:i.notes||"No hay notas disponibles."})]})]})]}),(0,r.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,r.jsx)("button",{onClick:()=>R(i),className:"px-4 py-2 bg-amber-400 text-white rounded-md hover:bg-amber-500",children:"Editar"}),(0,r.jsx)("button",{onClick:()=>P(i),className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Eliminar"})]})]}),(0,r.jsx)(v.A,{isOpen:D,onClose:G,onConfirm:k,title:"Eliminar Expediente",message:`\xbfEst\xe1 seguro que desea eliminar el expediente de ${A?.patientName}? Esta acci\xf3n no se puede deshacer.`,confirmText:"Eliminar",cancelText:"Cancelar",type:"danger",isLoading:I})]}):"edit"===N?(0,r.jsx)(g,{record:i,onSave:a=>{if(i)t(e.map(e=>e.id===i.id?{...e,...a}:e));else{let r={id:e.length>0?Math.max(...e.map(e=>e.id))+1:1,...a};t([...e,r])}n(!1),y("list")},onCancel:()=>{n(!1),y("list")}}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-[hsl(var(--foreground))]",children:"Gesti\xf3n de Expedientes"}),(0,r.jsxs)("button",{onClick:()=>{d(null),n(!0),y("edit")},className:"flex items-center px-4 py-2 bg-red-400 text-white rounded-md hover:bg-red-500",children:[(0,r.jsx)(o.A,{className:"h-5 w-5 mr-1"}),"Nuevo Expediente"]})]}),(0,r.jsxs)("div",{className:"bg-[hsl(var(--card))] transition-colors duration-200 shadow-md rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"p-4 border-b border-[hsl(var(--border))]",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(l.A,{className:"h-5 w-5 text-[hsl(var(--muted-foreground))]"})}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar expedientes...",className:"pl-10 pr-4 py-2 w-full border border-[hsl(var(--border))] bg-[hsl(var(--card))] text-[hsl(var(--foreground))] rounded-md focus:outline-none focus:ring-2 focus:ring-red-400 transition-colors duration-200",value:x,onChange:e=>{h(e.target.value),T(1)}})]})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-[hsl(var(--border))]",children:[(0,r.jsx)("thead",{className:"bg-[hsl(var(--secondary))]",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Paciente"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Tipo"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Fecha"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Diagn\xf3stico"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Acciones"})]})}),(0,r.jsx)("tbody",{className:"bg-[hsl(var(--card))] divide-y divide-[hsl(var(--border))] transition-colors duration-200",children:M.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-[hsl(var(--card-hover))] transition-colors duration-200",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm font-medium text-[hsl(var(--foreground))]",children:e.patientName})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(c.A,{className:"h-4 w-4 text-[hsl(var(--muted-foreground))] mr-2"}),(0,r.jsx)("span",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:e.recordType})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:_(e.date)})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:e.diagnosis})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,r.jsx)("button",{onClick:()=>L(e),className:"text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))] mr-3 transition-colors duration-200",title:"Ver detalles",children:(0,r.jsx)(m.A,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>R(e),className:"text-amber-500 hover:text-amber-600 mr-3",title:"Editar",children:(0,r.jsx)(p.A,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>P(e),className:"text-red-500 hover:text-red-600",title:"Eliminar",children:(0,r.jsx)(u.A,{className:"h-5 w-5"})})]})]},e.id))})]})}),0===z.length?(0,r.jsx)("div",{className:"text-center py-4",children:(0,r.jsx)("p",{className:"text-[hsl(var(--muted-foreground))]",children:"No se encontraron expedientes"})}):z.length>0&&(0,r.jsx)(f.A,{currentPage:E,totalPages:q,onPageChange:e=>{T(e)}})]}),(0,r.jsx)(v.A,{isOpen:D,onClose:G,onConfirm:k,title:"Eliminar Expediente",message:`\xbfEst\xe1 seguro que desea eliminar el expediente de ${A?.patientName}? Esta acci\xf3n no se puede deshacer.`,confirmText:"Eliminar",cancelText:"Cancelar",type:"danger",isLoading:I})]})};function y(){(0,n.useRouter)();let{isAuthenticated:e}=(0,i.A)(),[t,a]=(0,s.useState)(!1);return t?t&&!e?null:(0,r.jsx)(d.A,{children:(0,r.jsx)(N,{})}):(0,r.jsx)("div",{className:"h-screen flex items-center justify-center bg-gray-100",children:(0,r.jsx)("p",{className:"text-gray-500",children:"Cargando..."})})}},1647:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\josec\\\\Documents\\\\Nueva carpeta (5)\\\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\\\next-js-project\\\\app\\\\dashboard\\\\records\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\app\\dashboard\\records\\page.tsx","default")},1991:(e,t,a)=>{Promise.resolve().then(a.bind(a,1647))},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3227:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>l});var r=a(5239),s=a(8088),n=a(8170),i=a.n(n),d=a(893),o={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);a.d(t,o);let l={children:["",{children:["dashboard",{children:["records",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1647)),"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\app\\dashboard\\records\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,3249)),"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,8014)),"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\app\\dashboard\\records\\page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/dashboard/records/page",pathname:"/dashboard/records",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9100:(e,t,a)=>{Promise.resolve().then(a.bind(a,1010))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[357,419,24,384],()=>a(3227));module.exports=r})();