(()=>{var e={};e.id=876,e.ids=[876],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4159:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\josec\\\\Documents\\\\Nueva carpeta (5)\\\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\\\next-js-project\\\\app\\\\dashboard\\\\appointments\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\app\\dashboard\\appointments\\page.tsx","default")},5219:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>l});var r=a(5239),o=a(8088),s=a(8170),n=a.n(s),d=a(893),i={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);a.d(t,i);let l={children:["",{children:["dashboard",{children:["appointments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,4159)),"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\app\\dashboard\\appointments\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,3249)),"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,8014)),"D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\josec\\Documents\\Nueva carpeta (5)\\APLICACI\xd3N DE METODOLOG\xcdAS \xc1GILES DE DESARROLLO DE SOFTWARE\\next-js-project\\app\\dashboard\\appointments\\page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/dashboard/appointments/page",pathname:"/dashboard/appointments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},6354:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var r=a(687),o=a(3210),s=a(6189),n=a(7762),d=a(3570),i=a(8492),l=a(6474),c=a(9270),m=a(3861),p=a(3143),h=a(8233),u=a(1121),x=a(8559),g=a(1860),b=a(8819);let v=[{id:"1",nombre:"Mar\xeda Garc\xeda"},{id:"2",nombre:"Juan P\xe9rez"},{id:"3",nombre:"Ana Rodr\xedguez"},{id:"4",nombre:"Carlos Mart\xednez"},{id:"5",nombre:"Laura S\xe1nchez"}],f=[{id:"1",nombre:"Dra. Linares"},{id:"2",nombre:"Dr. Mart\xednez"},{id:"3",nombre:"Dra. Rodr\xedguez"}],j=({appointment:e,onSave:t,onCancel:a})=>{let s=new Date().toISOString().split("T")[0],[n,d]=(0,o.useState)({pacienteId:"",pacienteNombre:"",pacienteTemporal:!1,odontologoId:"1",fecha:"",hora:"",motivo:"Consulta inicial",estado:"pendiente"}),[i,l]=(0,o.useState)({}),[c,m]=(0,o.useState)(!1);(0,o.useEffect)(()=>{if(e){let t=e.fecha||"",a=t<s?s:t;d({pacienteId:e.pacienteId||"",pacienteNombre:e.pacienteNombre||"",pacienteTemporal:!!e.pacienteTemporalId,odontologoId:e.odontologoId||"1",fecha:a,hora:e.hora||"",motivo:e.motivo||"Consulta inicial",estado:e.estado||"pendiente"})}else d({pacienteId:"",pacienteNombre:"",pacienteTemporal:!1,odontologoId:"1",fecha:s,hora:"09:00",motivo:"Consulta inicial",estado:"pendiente"})},[e,s]);let p=()=>{let e={};return n.pacienteTemporal||n.pacienteId||(e.pacienteId="Debe seleccionar un paciente o marcar como paciente temporal"),n.pacienteTemporal&&!n.pacienteNombre.trim()&&(e.pacienteNombre="El nombre del paciente temporal es obligatorio"),n.odontologoId||(e.odontologoId="Debe seleccionar un odont\xf3logo"),n.fecha?n.fecha<s&&(e.fecha="No se puede seleccionar una fecha anterior a la actual"):e.fecha="La fecha es obligatoria",n.hora||(e.hora="La hora es obligatoria"),l(e),0===Object.keys(e).length},h=e=>{let{name:t,value:a}=e.target;if(d({...n,[t]:a}),"pacienteId"===t&&a){let e=v.find(e=>e.id===a);e&&d(t=>({...t,pacienteId:a,pacienteNombre:e.nombre}))}i[t]&&l({...i,[t]:""})},j=async a=>{if(a.preventDefault(),p()){m(!0);try{await new Promise(e=>setTimeout(e,800));let a={odontologoId:n.odontologoId,fecha:n.fecha,hora:n.hora,motivo:n.motivo,estado:n.estado};n.pacienteTemporal?(a.pacienteTemporalId=e?.pacienteTemporalId||"temp_"+Date.now(),a.pacienteNombre=n.pacienteNombre,a.pacienteId=void 0):(a.pacienteId=n.pacienteId,a.pacienteNombre=n.pacienteNombre,a.pacienteTemporalId=void 0),t(a)}catch(e){console.error("Error al guardar:",e)}finally{m(!1)}}};return(0,r.jsxs)(u.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:e?"Editar Cita":"Nueva Cita"}),(0,r.jsxs)(u.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:a,className:"flex items-center text-gray-600 hover:text-gray-900",children:[(0,r.jsx)(x.A,{className:"h-5 w-5 mr-1"}),"Volver"]})]}),(0,r.jsx)("div",{className:"bg-white shadow-md rounded-lg p-6",children:(0,r.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"pacienteTemporal",name:"pacienteTemporal",checked:n.pacienteTemporal,onChange:e=>{let{name:t,checked:a}=e.target;d({...n,[t]:a}),"pacienteTemporal"===t&&a&&d(e=>({...e,pacienteId:"",[t]:a}))},className:"h-4 w-4 text-red-400 focus:ring-red-400 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"pacienteTemporal",className:"ml-2 block text-sm font-medium text-gray-700",children:"Paciente temporal (sin registro previo)"})]})}),n.pacienteTemporal?(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"pacienteNombre",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre del Paciente Temporal ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",id:"pacienteNombre",name:"pacienteNombre",required:!0,value:n.pacienteNombre,onChange:h,className:`w-full px-3 py-2 border ${i.pacienteNombre?"border-red-300 bg-red-50 dark:bg-red-900/20 dark:border-red-800":"border-[hsl(var(--border))] bg-[hsl(var(--card))]"} text-[hsl(var(--foreground))] rounded-md focus:outline-none focus:ring-2 focus:ring-red-400 transition-colors duration-200`}),i.pacienteNombre&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-500",children:i.pacienteNombre})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"pacienteId",className:"block text-sm font-medium text-gray-700 mb-1",children:["Paciente ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("select",{id:"pacienteId",name:"pacienteId",required:!n.pacienteTemporal,value:n.pacienteId,onChange:h,className:`w-full px-3 py-2 border ${i.pacienteId?"border-red-300 bg-red-50":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-red-400`,disabled:n.pacienteTemporal,children:[(0,r.jsx)("option",{value:"",children:"Seleccionar paciente"}),v.map(e=>(0,r.jsx)("option",{value:e.id,children:e.nombre},e.id))]}),i.pacienteId&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-500",children:i.pacienteId})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"odontologoId",className:"block text-sm font-medium text-gray-700 mb-1",children:["Odont\xf3logo ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsxs)("select",{id:"odontologoId",name:"odontologoId",required:!0,value:n.odontologoId,onChange:h,className:`w-full px-3 py-2 border ${i.odontologoId?"border-red-300 bg-red-50 dark:bg-red-900/20 dark:border-red-800":"border-[hsl(var(--border))] bg-[hsl(var(--card))]"} text-[hsl(var(--foreground))] rounded-md focus:outline-none focus:ring-2 focus:ring-red-400 transition-colors duration-200`,children:[(0,r.jsx)("option",{value:"",children:"Seleccionar odont\xf3logo"}),f.map(e=>(0,r.jsx)("option",{value:e.id,children:e.nombre},e.id))]}),i.odontologoId&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-500",children:i.odontologoId})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"fecha",className:"block text-sm font-medium text-gray-700 mb-1",children:["Fecha ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"date",id:"fecha",name:"fecha",required:!0,min:s,value:n.fecha,onChange:h,className:`w-full px-3 py-2 border ${i.fecha?"border-red-300 bg-red-50":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-red-400`}),i.fecha&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-500",children:i.fecha})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{htmlFor:"hora",className:"block text-sm font-medium text-gray-700 mb-1",children:["Hora ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"time",id:"hora",name:"hora",required:!0,value:n.hora,onChange:h,className:`w-full px-3 py-2 border ${i.hora?"border-red-300 bg-red-50":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-red-400`}),i.hora&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-500",children:i.hora})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"motivo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo"}),(0,r.jsx)("input",{type:"text",id:"motivo",name:"motivo",value:n.motivo,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"estado",className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),(0,r.jsxs)("select",{id:"estado",name:"estado",required:!0,value:n.estado,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-400",children:[(0,r.jsx)("option",{value:"pendiente",children:"Pendiente"}),(0,r.jsx)("option",{value:"completada",children:"Completada"}),(0,r.jsx)("option",{value:"cancelada",children:"Cancelada"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4 pt-4 border-t mt-6",children:[(0,r.jsxs)(u.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:a,className:"px-4 py-2 bg-[hsl(var(--secondary))] text-[hsl(var(--secondary-foreground))] rounded-md hover:bg-[hsl(var(--card-hover))] flex items-center transition-colors duration-200",disabled:c,children:[(0,r.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),(0,r.jsxs)(u.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",className:"px-4 py-2 bg-red-400 text-white rounded-md hover:bg-red-500 flex items-center",disabled:c,children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-2"}),c?"Guardando...":"Guardar"]})]})]})})]})};var N=a(64);let y=[{id:"1",nombre:"Dra. Linares"},{id:"2",nombre:"Dr. Mart\xednez"},{id:"3",nombre:"Dra. Rodr\xedguez"}],w=[{id:"1",pacienteId:"1",pacienteNombre:"Mar\xeda Garc\xeda",odontologoId:"1",fecha:"2025-05-20",hora:"10:00",motivo:"Limpieza Dental",estado:"pendiente",createdAt:"2025-05-01T10:00:00"},{id:"2",pacienteId:"2",pacienteNombre:"Juan P\xe9rez",odontologoId:"1",fecha:"2025-05-20",hora:"11:00",motivo:"Ortodoncia",estado:"pendiente",createdAt:"2025-05-01T11:30:00"},{id:"3",pacienteId:"3",pacienteNombre:"Ana Rodr\xedguez",odontologoId:"2",fecha:"2025-05-21",hora:"09:30",motivo:"Extracci\xf3n",estado:"pendiente",createdAt:"2025-05-02T14:00:00"},{id:"4",pacienteId:"4",pacienteNombre:"Carlos Mart\xednez",odontologoId:"3",fecha:"2025-05-22",hora:"14:00",motivo:"Consulta inicial",estado:"pendiente",createdAt:"2025-05-03T09:15:00"},{id:"5",pacienteId:"5",pacienteNombre:"Laura S\xe1nchez",odontologoId:"1",fecha:"2025-05-23",hora:"16:30",motivo:"Blanqueamiento",estado:"pendiente",createdAt:"2025-05-04T11:45:00"},{id:"6",pacienteNombre:"Roberto G\xf3mez",pacienteTemporalId:"t1",odontologoId:"2",fecha:"2025-05-24",hora:"10:00",motivo:"Consulta inicial",estado:"pendiente",createdAt:"2025-05-05T16:20:00"},{id:"7",pacienteId:"7",pacienteNombre:"Patricia Hern\xe1ndez",odontologoId:"3",fecha:"2025-05-24",hora:"11:00",motivo:"Relleno",estado:"pendiente",createdAt:"2025-05-06T10:30:00"},{id:"8",pacienteId:"8",pacienteNombre:"Miguel D\xedaz",odontologoId:"1",fecha:"2025-05-25",hora:"09:30",motivo:"Ortodoncia",estado:"pendiente",createdAt:"2025-05-07T14:15:00"},{id:"9",pacienteId:"9",pacienteNombre:"Carmen L\xf3pez",odontologoId:"2",fecha:"2025-05-25",hora:"14:00",motivo:"Limpieza Dental",estado:"pendiente",createdAt:"2025-05-08T09:45:00"},{id:"10",pacienteId:"10",pacienteNombre:"Fernando Torres",odontologoId:"3",fecha:"2025-05-26",hora:"16:30",motivo:"Consulta inicial",estado:"pendiente",createdAt:"2025-05-09T11:00:00"}];function I(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}let A=()=>{let[e,t]=(0,o.useState)(w),[a,s]=(0,o.useState)(!1),[n,d]=(0,o.useState)(null),[x,g]=(0,o.useState)(""),[b,v]=(0,o.useState)("list"),[f,A]=(0,o.useState)(1),[C,D]=(0,o.useState)(!1),[E,T]=(0,o.useState)({dentist:"Todos",date:"",status:"Todos"}),[k,S]=(0,o.useState)(!1),O=e=>{d(e),s(!0),v("edit")},P=e=>{d(e),v("view")},L=a=>{window.confirm("\xbfEst\xe1 seguro que desea eliminar esta cita?")&&t(e.filter(e=>e.id!==a))},R=e=>{let{name:t,value:a}=e.target;T(e=>({...e,[t]:a}))},M=(0,o.useMemo)(()=>{let t=I(x);return e.filter(e=>!!(e.pacienteNombre&&I(e.pacienteNombre).includes(t)||I(e.motivo).includes(t))&&(!k||("Todos"===E.dentist||e.odontologoId===E.dentist)&&(!E.date||e.fecha===E.date)&&("Todos"===E.status||e.estado===E.status.toLowerCase())))},[e,x,E,k]),z=Math.ceil(M.length/5),F=(0,o.useMemo)(()=>{let e=(f-1)*5;return M.slice(e,e+5)},[M,f]),G=e=>new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),q=e=>{let t=y.find(t=>t.id===e);return t?t.nombre:"Desconocido"},_=e=>{switch(e){case"pendiente":return"Pendiente";case"completada":return"Completada";case"cancelada":return"Cancelada";default:return e}},H=e=>{switch(e){case"pendiente":return"bg-blue-100 text-blue-800";case"completada":return"bg-green-100 text-green-800";case"cancelada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return"view"===b&&n?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-[hsl(var(--foreground))]",children:"Detalles de la Cita"}),(0,r.jsx)("button",{onClick:()=>v("list"),className:"px-4 py-2 bg-[hsl(var(--secondary))] text-[hsl(var(--secondary-foreground))] rounded-md hover:bg-[hsl(var(--card-hover))] transition-colors duration-200",children:"Volver"})]}),(0,r.jsxs)("div",{className:"bg-[hsl(var(--card))] transition-colors duration-200 shadow-md rounded-lg p-6",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-[hsl(var(--foreground))] mb-2",children:"Informaci\xf3n de la Cita"}),(0,r.jsxs)("p",{className:"text-[hsl(var(--foreground))]",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Paciente:"})," ",n.pacienteNombre||"Paciente temporal"]}),(0,r.jsxs)("p",{className:"text-[hsl(var(--foreground))]",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Odont\xf3logo:"})," ",q(n.odontologoId)]}),(0,r.jsxs)("p",{className:"text-[hsl(var(--foreground))]",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Fecha:"})," ",G(n.fecha)]}),(0,r.jsxs)("p",{className:"text-[hsl(var(--foreground))]",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Hora:"})," ",n.hora]}),(0,r.jsxs)("p",{className:"text-[hsl(var(--foreground))]",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Motivo:"})," ",n.motivo]}),(0,r.jsxs)("p",{className:"text-[hsl(var(--foreground))]",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Estado:"})," ",(0,r.jsx)("span",{className:`px-2 py-1 rounded-full text-xs ${H(n.estado)}`,children:_(n.estado)})]}),(0,r.jsxs)("p",{className:"text-[hsl(var(--foreground))]",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Creada el:"})," ",new Date(n.createdAt).toLocaleString("es-ES")]})]})}),(0,r.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,r.jsx)("button",{onClick:()=>O(n),className:"px-4 py-2 bg-amber-400 text-white rounded-md hover:bg-amber-500",children:"Editar"}),(0,r.jsx)("button",{onClick:()=>L(n.id),className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"Eliminar"})]})]})]}):"edit"===b?(0,r.jsx)(j,{appointment:n,onSave:a=>{if(n)t(e.map(e=>e.id===n.id?{...e,...a}:e));else{let r={id:(Math.max(...e.map(e=>Number.parseInt(e.id)))+1).toString(),pacienteId:a.pacienteId,pacienteTemporalId:a.pacienteTemporalId,pacienteNombre:a.pacienteNombre,odontologoId:a.odontologoId||"1",fecha:a.fecha||new Date().toISOString().split("T")[0],hora:a.hora||"09:00",motivo:a.motivo||"Consulta inicial",estado:a.estado||"pendiente",createdAt:new Date().toISOString()};t([...e,r])}s(!1),v("list")},onCancel:()=>{s(!1),v("list")}}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold text-[hsl(var(--foreground))]",children:"Gesti\xf3n de Citas"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(u.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>D(!C),className:`flex items-center px-3 py-2 border rounded-md text-sm font-medium transition-colors duration-200 ${k?"bg-white dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-600 dark:text-red-400":"bg-[hsl(var(--card))] border-[hsl(var(--border))] text-[hsl(var(--foreground))] hover:bg-[hsl(var(--card-hover))]"}`,children:[(0,r.jsx)(i.A,{className:`h-4 w-4 mr-2 ${k?"text-red-500 dark:text-red-400":"text-[hsl(var(--muted-foreground))]"}`}),"Filtros",k&&(0,r.jsx)("span",{className:"ml-1 bg-white dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs font-semibold px-1.5 py-0.5 rounded-full border border-red-100 dark:border-red-800",children:"Activos"})]}),(0,r.jsxs)(u.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{d(null),s(!0),v("edit")},className:"flex items-center px-4 py-2 bg-red-400 text-white rounded-md hover:bg-red-500",children:[(0,r.jsx)(l.A,{className:"h-5 w-5 mr-1"}),"Nueva Cita"]})]})]}),C&&(0,r.jsxs)(u.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-[hsl(var(--card))] p-4 rounded-lg shadow-md transition-colors duration-200",children:[(0,r.jsx)("h3",{className:"font-medium text-[hsl(var(--foreground))] mb-3",children:"Filtros avanzados"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--foreground))] mb-1",children:"Odont\xf3logo"}),(0,r.jsxs)("select",{name:"dentist",value:E.dentist,onChange:R,className:"w-full border border-[hsl(var(--border))] bg-[hsl(var(--card))] text-[hsl(var(--foreground))] rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-red-400 transition-colors duration-200",children:[(0,r.jsx)("option",{children:"Todos"}),y.map(e=>(0,r.jsx)("option",{value:e.id,children:e.nombre},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--foreground))] mb-1",children:"Fecha"}),(0,r.jsx)("input",{type:"date",name:"date",value:E.date,onChange:R,className:"w-full border border-[hsl(var(--border))] bg-[hsl(var(--card))] text-[hsl(var(--foreground))] rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-red-400 transition-colors duration-200"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-[hsl(var(--foreground))] mb-1",children:"Estado"}),(0,r.jsxs)("select",{name:"status",value:E.status,onChange:R,className:"w-full border border-[hsl(var(--border))] bg-[hsl(var(--card))] text-[hsl(var(--foreground))] rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-red-400 transition-colors duration-200",children:[(0,r.jsx)("option",{children:"Todos"}),(0,r.jsx)("option",{children:"Pendiente"}),(0,r.jsx)("option",{children:"Completada"}),(0,r.jsx)("option",{children:"Cancelada"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end mt-4",children:[(0,r.jsx)("button",{onClick:()=>{T({dentist:"Todos",date:"",status:"Todos"}),S(!1)},className:"px-4 py-2 bg-[hsl(var(--secondary))] text-[hsl(var(--secondary-foreground))] rounded-md hover:bg-[hsl(var(--card-hover))] mr-2 transition-colors duration-200",children:"Limpiar"}),(0,r.jsx)("button",{onClick:()=>{S(!0),A(1)},className:"px-4 py-2 bg-red-400 text-white rounded-md hover:bg-red-500 transition-colors duration-200",children:"Aplicar filtros"})]})]}),(0,r.jsxs)("div",{className:"bg-[hsl(var(--card))] transition-colors duration-200 shadow-md rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"p-4 border-b border-[hsl(var(--border))]",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(c.A,{className:"h-5 w-5 text-[hsl(var(--muted-foreground))]"})}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar citas por paciente o motivo...",className:"pl-10 pr-4 py-2 w-full border border-[hsl(var(--border))] bg-[hsl(var(--card))] text-[hsl(var(--foreground))] rounded-md focus:outline-none focus:ring-2 focus:ring-red-400 transition-colors duration-200",value:x,onChange:e=>{g(e.target.value),A(1)}})]})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-[hsl(var(--border))]",children:[(0,r.jsx)("thead",{className:"bg-[hsl(var(--secondary))]",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Paciente"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Fecha"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Hora"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Odont\xf3logo"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Motivo"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Estado"}),(0,r.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-[hsl(var(--muted-foreground))] uppercase tracking-wider",children:"Acciones"})]})}),(0,r.jsx)("tbody",{className:"bg-[hsl(var(--card))] divide-y divide-[hsl(var(--border))] transition-colors duration-200",children:F.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-[hsl(var(--card-hover))] transition-colors duration-200",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm font-medium text-[hsl(var(--foreground))]",children:e.pacienteNombre||"Paciente temporal"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:G(e.fecha)})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:e.hora})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:q(e.odontologoId)})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-[hsl(var(--muted-foreground))]",children:e.motivo})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${H(e.estado)}`,children:_(e.estado)})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,r.jsx)("button",{onClick:()=>P(e),className:"text-[hsl(var(--muted-foreground))] hover:text-[hsl(var(--foreground))] mr-3 transition-colors duration-200",title:"Ver detalles",children:(0,r.jsx)(m.A,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>O(e),className:"text-amber-500 hover:text-amber-600 mr-3",title:"Editar",children:(0,r.jsx)(p.A,{className:"h-5 w-5"})}),(0,r.jsx)("button",{onClick:()=>L(e.id),className:"text-red-500 hover:text-red-600",title:"Eliminar",children:(0,r.jsx)(h.A,{className:"h-5 w-5"})})]})]},e.id))})]})}),0===M.length?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsxs)(u.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center",children:[(0,r.jsx)(c.A,{className:"h-12 w-12 text-[hsl(var(--muted-foreground))] mb-3"}),(0,r.jsx)("p",{className:"text-[hsl(var(--muted-foreground))] text-lg",children:"No se encontraron citas"}),(0,r.jsx)("p",{className:"text-[hsl(var(--muted-foreground))] text-sm mt-1",children:"Intenta con otra b\xfasqueda o agrega una nueva cita"})]})}):(0,r.jsx)(N.A,{currentPage:f,totalPages:z,onPageChange:A})]})]})};function C(){(0,s.useRouter)();let{isAuthenticated:e}=(0,n.A)(),[t,a]=(0,o.useState)(!1);return t?t&&!e?null:(0,r.jsx)(d.A,{children:(0,r.jsx)(A,{})}):(0,r.jsx)("div",{className:"h-screen flex items-center justify-center bg-gray-100",children:(0,r.jsx)("p",{className:"text-gray-500",children:"Cargando..."})})}},7671:(e,t,a)=>{Promise.resolve().then(a.bind(a,4159))},8492:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2688).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},8559:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2688).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8819:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(2688).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9519:(e,t,a)=>{Promise.resolve().then(a.bind(a,6354))}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[357,181,24,923],()=>a(5219));module.exports=r})();